{"version":3,"sources":["webpack:///./src/client/app/common/views/components/visibility-chooser.vue?d11b","webpack:///./src/client/app/desktop/views/components/post-form.vue?10ac","webpack:///./src/client/app/common/views/components/visibility-chooser.vue?204c","webpack:///./src/client/app/desktop/views/components/post-form.vue?4158","webpack:///./src/client/app/common/views/components/visibility-chooser.vue?c26f","webpack:///./src/client/app/desktop/views/components/post-form.vue?82cb","webpack:///./src/client/app/common/views/components/visibility-chooser.vue?0796","webpack:///./src/client/app/common/views/components/visibility-chooser.vue?5740","webpack:///./src/client/app/common/views/components/visibility-chooser.vue?5038","webpack:///./src/client/app/common/views/components/visibility-chooser.vue","webpack:///./src/client/app/common/scripts/get-face.ts","webpack:///./src/misc/extract-mentions.ts","webpack:///./src/client/app/common/scripts/post-form.ts","webpack:///./src/client/app/desktop/views/components/post-form.vue?202a","webpack:///./src/client/app/desktop/views/components/post-form.vue?60d0","webpack:///./src/client/app/desktop/views/components/post-form.vue","webpack:///./src/client/app/desktop/views/components/post-form.vue?0d06"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA,kCAAkC,mBAAO,CAAC,oHAA+D;AACzG;AACA;AACA,cAAc,QAAS,8BAA8B,gBAAgB,qCAAqC,eAAe,MAAM,OAAO,cAAc,WAAW,YAAY,gCAAgC,UAAU,oCAAoC,kBAAkB,cAAc,YAAY,cAAc,0BAA0B,kBAAkB,yCAAyC,oBAAoB,UAAU,mDAAmD,gBAAgB,8BAA8B,0DAA0D,aAAa,cAAc,kBAAkB,UAAU,sBAAsB,8BAA8B,wCAAwC,wCAAwC,aAAa,iBAAiB,eAAe,qBAAqB,eAAe,8CAA8C,uCAAuC,+CAA+C,wCAAwC,+CAA+C,+BAA+B,0BAA0B,0CAA0C,iBAAiB,oBAAoB,qDAAqD,aAAa,uBAAuB,mBAAmB,kBAAkB,WAAW,oDAAoD,cAAc,qEAAqE,cAAc,gBAAgB,sFAAsF,WAAW;AAC/jD;AACA;;;;;;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,oHAA+D;AACzG;AACA;AACA,cAAc,QAAS,8BAA8B,cAAc,aAAa,oCAAoC,gBAAgB,iCAAiC,aAAa,cAAc,WAAW,iGAAiG,cAAc,WAAW,eAAe,uCAAuC,4CAA4C,aAAa,uCAAuC,kBAAkB,iCAAiC,4BAA4B,6GAA6G,mCAAmC,iCAAiC,6GAA6G,mCAAmC,gCAAgC,mHAAmH,WAAW,uJAAuJ,4BAA4B,0CAA0C,kBAAkB,qDAAqD,kBAAkB,MAAM,QAAQ,aAAa,eAAe,kBAAkB,WAAW,2DAA2D,6BAA6B,UAAU,4DAA4D,qBAAqB,UAAU,uDAAuD,SAAS,eAAe,eAAe,gBAAgB,oIAAoI,mCAAmC,iCAAiC,oIAAoI,mCAAmC,gCAAgC,oEAAoE,WAAW,4DAA4D,wDAAwD,0BAA0B,qDAAqD,SAAS,UAAU,4CAA4C,uCAAuC,gBAAgB,0BAA0B,iCAAiC,0DAA0D,wDAAwD,gBAAgB,2DAA2D,4CAA4C,uCAAuC,gBAAgB,0BAA0B,iCAAiC,8CAA8C,eAAe,gBAAgB,mBAAmB,eAAe,gDAAgD,qBAAqB,gDAAgD,iBAAiB,mBAAmB,gDAAgD,eAAe,qBAAqB,uDAAuD,gBAAgB,4BAA4B,6DAA6D,4BAA4B,8DAA8D,6BAA6B,kDAAkD,eAAe,qBAAqB,gEAAgE,eAAe,SAAS,eAAe,qEAAqE,iBAAiB,4EAA4E,gBAAgB,4BAA4B,kFAAkF,4BAA4B,mFAAmF,6BAA6B,gDAAgD,eAAe,qBAAqB,wCAAwC,eAAe,YAAY,uCAAuC,kBAAkB,4CAA4C,aAAa,mCAAmC,WAAW,YAAY,YAAY,0EAA0E,cAAc,kBAAkB,YAAY,uCAAuC,oBAAoB,YAAY,SAAS,iBAAiB,4BAA4B,4CAA4C,cAAc,4OAA4O,qBAAqB,eAAe,UAAU,mBAAmB,WAAW,YAAY,cAAc,gDAAgD,uBAAuB,aAAa,6BAA6B,kBAAkB,sRAAsR,uBAAuB,mCAAmC,6RAA6R,4BAA4B,yJAAyJ,mCAAmC,2CAA2C,gUAAgU,aAAa,oBAAoB,kBAAkB,SAAS,WAAW,YAAY,UAAU,uCAAuC,kBAAkB,qCAAqC,kBAAkB,OAAO,MAAM,WAAW,YAAY,wCAAwC,oBAAoB;AACxmN;AACA;;;;;;;;;;;;;ACNA;;AAEA;AACA,cAAc,mBAAO,CAAC,m2BAA4e;AAClgB,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,sIAAyE;AAC3F,+CAA+C;AAC/C;AACA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACVf;;AAEA;AACA,cAAc,mBAAO,CAAC,k1BAAme;AACzf,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,sIAAyE;AAC3F,+CAA+C;AAC/C;AACA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;;ACVf;AAAA;AAAA;AAAA;AAAsjB,CAAgB,qgBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1kB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gDAAgD;AAC9E;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA,0BAA0B,SAAS,qBAAqB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,6BAA6B,SAAS,gBAAgB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,0BAA0B,SAAS,mBAAmB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS,UAAU,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,uCAAuC,SAAS,gBAAgB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,kCAAkC,MAAM,4BAA4B,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA,0BAA0B,SAAS,gBAAgB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sBAAsB,cAAc;AACpC,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA,kBAAkB,oDAAoD;AACtE,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,0BAA0B,gBAAgB;AAC1C,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA,sBAAsB,0CAA0C;AAChE,sBAAsB,sDAAsD;AAC5E,yBAAyB,kBAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,eAAe,0CAA0C,mBAAmB,EAAE;AAC9E,yBAAyB,SAAS,yBAAyB,EAAE;AAC7D;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC,sBAAsB;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA;AACA,kBAAkB,uDAAuD;AACzE,eAAe;AACf,SAAS;AACT,mBAAmB,SAAS,iBAAiB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAuD;AACzE,eAAe;AACf,SAAS;AACT,mBAAmB,SAAS,gBAAgB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,4CAA4C;AAC9D,eAAe;AACf,SAAS;AACT,mBAAmB,SAAS,yBAAyB,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2CAA2C;AAC7D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,SAAS,oBAAoB,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6CAA6C;AAC/D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,SAAS,6BAA6B,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2DAA2D;AAC7E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,SAAS,yBAAyB,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0CAA0C;AAC5D,eAAe;AACf,SAAS;AACT;AACA;AACA,oCAAoC,SAAS,gBAAgB,EAAE;AAC/D;AACA;AACA,oCAAoC,SAAS,eAAe,EAAE;AAC9D;AACA;AACA,oCAAoC,SAAS,iBAAiB,EAAE;AAChE;AACA;AACA,oCAAoC,SAAS,mBAAmB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,yDAAyD;AAC3E,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qDAAqD;AACrE,aAAa;AACb,OAAO;AACP,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC1WA,IAAI,kEAAM;AACV;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,gBAAgB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,eAAe,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,iBAAiB,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,mBAAmB,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kCAAkC;AACtD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,gBAAgB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,eAAe,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAqC;AACzD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,iCAAiC,SAAS,iBAAiB,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2EAAe;AACnB,kEAAM;;;;;;;;;AC5IgB;AACW;AACL;AACb,yGAAG;AAClB,UAAU,uBAAI;AACd;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2BAAK;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,YAAY,2BAAK;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,YAAY,2BAAK;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,YAAY,2BAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,CAAC,CAAC,EAAC;;;ACrFiR,CAAgB,oIAAG,EAAC,C;;;;;;;;ACA3L;AACvC;AACL;AACwC;;;AAGzG;AACsG;AACtG,gBAAgB,sCAAU;AAC1B,EAAE,qDAAM;AACR,EAAE,kEAAM;AACR,EAAE,2EAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,wE;;ACvCf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,kGAAqD,EAAC;;;;;;;;;;;;;;;ACTrE;AAC4C;AAC7B;AACf;AACA,yBAAyB,yBAAS;AAClC;AACA,CAAC;;;;;;ACNsD;AACtB;AACE;AAC0C;AAC5C;AACa;AACL;AACX;AAC4B;AACM;AACO;AACxD;AACf,UAAU,uBAAI;AACd;AACA,iCAAiC,2OAAoD;AACrF,2BAA2B,qLAA6C;AACxE,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA,+BAA+B,cAAc;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB,sBAAM;AACvB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gDAAgD,sBAAsB,GAAG,2BAAO,oBAAoB,QAAQ,sBAAsB;AAClI;AACA;AACA;AACA,4BAA4B,yBAAyB,GAAG,2BAAO,uBAAuB;AACtF;AACA;AACA,wBAAwB,sBAAK;AAC7B,4BAA4B,gBAAe;AAC3C,6CAA6C,WAAW,GAAG,2BAAO,SAAS,QAAQ,WAAW;AAC9F;AACA;AACA;AACA,4EAA4E,cAAI;AAChF;AACA;AACA,yCAAyC,QAAQ;AACjD;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,kDAAkD,4BAA4B;AAC9E;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,sBAAM;AACzB,SAAS;AACT;AACA,YAAY,4BAAkB,uBAAuB,IAAI;AACzD,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,qCAAqC,kBAAmB;AACxD;AACA,6DAA6D,gBAAgB;AAC7E,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa,SAAS,yBAAyB;AAC/C;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,gCAAgC,sBAAK;AACrC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,wBAAwB,UAAU,yDAAyD,UAAU;AACrG;AACA;AACA;AACA;AACA,yCAAyC,8CAAgB,oFAAoF,QAAQ,OAAO,MAAM,GAAG,EAAE,IAAI;AAC3K;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB,SAAS,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,aAAG;AACrE;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,WAAW;AACrC;AACA,wBAAwB,4BAAkB;AAC1C;AACA;AACA,gDAAgD,aAAG;AACnD,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,iCAAiC,iNAAgE;AACjG;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gBAAgB,4BAAkB;AAClC,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,yEAAyE;AACzE;AACA;AACA,SAAS;AACT;AACA,yBAAyB,QAAO;AAChC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,iCAAiC,sBAAK;AACtC;AACA,gEAAgE,uBAAM;AACtE;AACA,SAAS;AACT;AACA,CAAC,CAAC,EAAC;;;AC9dmB;AACW;AACoB;AACtC,gGAAG;AAClB,UAAU,uBAAI;AACd;AACA,QAAQ,SAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC,CAAC,EAAC;;;ACvBwQ,CAAgB,kHAAG,EAAC,C;;;;;ACA3L;AACvC;AACL;AACwC;;;AAGhG;AACsG;AACtG,IAAI,mBAAS,GAAG,sCAAU;AAC1B,EAAE,4CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,sBAiBf;AACD,mBAAS;AACM,6GAAS,Q;;;;;;;;;;;;;ACvCxB;AAAA;AAAA;AAAA;AAA6iB,CAAgB,4fAAG,EAAC,C","file":"7.11.37.1.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gqyayizv[data-v-38d69d7d]{position:static}.gqyayizv>.backdrop[data-v-38d69d7d]{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:var(--modalBackdrop);opacity:0}.gqyayizv>.popover[data-v-38d69d7d]{position:absolute;z-index:10001;width:240px;padding:8px 0;background:var(--popupBg);border-radius:4px;box-shadow:0 3px 12px rgba(27,31,35,.15);transform:scale(.5);opacity:0}.gqyayizv>.popover[data-v-38d69d7d]:not(.isMobile){margin-top:10px;transform-origin:center -10px}.gqyayizv>.popover[data-v-38d69d7d]:not(.isMobile):before{content:\\\"\\\";display:block;position:absolute;top:-20px;left:calc(50% - 10px);border:10px solid transparent;border-bottom:10px solid var(--popupBg)}.gqyayizv>.popover>div[data-v-38d69d7d]{display:flex;padding:8px 14px;font-size:12px;color:var(--popupFg);cursor:pointer}.gqyayizv>.popover>div[data-v-38d69d7d]:hover{background:var(--faceClearButtonHover)}.gqyayizv>.popover>div[data-v-38d69d7d]:active{background:var(--faceClearButtonActive)}.gqyayizv>.popover>div.active[data-v-38d69d7d]{color:var(--primaryForeground);background:var(--primary)}.gqyayizv>.popover>div>*[data-v-38d69d7d]{user-select:none;pointer-events:none}.gqyayizv>.popover>div[data-v-38d69d7d]>:first-child{display:flex;justify-content:center;align-items:center;margin-right:10px;width:16px}.gqyayizv>.popover>div[data-v-38d69d7d]>:last-child{flex:1 1 auto}.gqyayizv>.popover>div>:last-child>span[data-v-38d69d7d]:first-child{display:block;font-weight:700}.gqyayizv>.popover>div>:last-child>span[data-v-38d69d7d]:last-child:not(:first-child){opacity:.6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gjisdzwh[data-v-17f78756]{display:block;padding:16px;background:var(--desktopPostFormBg);overflow:hidden}.gjisdzwh[data-v-17f78756]:after{content:\\\"\\\";display:block;clear:both}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756],.gjisdzwh>.content>input[data-v-17f78756]{display:block;width:100%;font-size:16px;color:var(--desktopPostFormTextareaFg);background:var(--desktopPostFormTextareaBg);outline:none;border:1px solid var(--primaryAlpha01);border-radius:4px;transition:border-color .2s ease;padding:12px 30px 12px 12px}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756]:hover,.gjisdzwh>.content>input[data-v-17f78756]:hover{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756]:focus,.gjisdzwh>.content>input[data-v-17f78756]:focus{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756]:disabled,.gjisdzwh>.content>input[data-v-17f78756]:disabled{opacity:.5}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756]::-webkit-input-placeholder,.gjisdzwh>.content>input[data-v-17f78756]::-webkit-input-placeholder{color:var(--primaryAlpha03)}.gjisdzwh>.content>input[data-v-17f78756]{margin-bottom:8px}.gjisdzwh>.content>.textarea>.emoji[data-v-17f78756]{position:absolute;top:0;right:0;padding:10px;font-size:18px;color:var(--text);opacity:.5}.gjisdzwh>.content>.textarea>.emoji[data-v-17f78756]:hover{color:var(--textHighlighted);opacity:1}.gjisdzwh>.content>.textarea>.emoji[data-v-17f78756]:active{color:var(--primary);opacity:1}.gjisdzwh>.content>.textarea>textarea[data-v-17f78756]{margin:0;max-width:100%;min-width:100%;min-height:84px}.gjisdzwh>.content>.textarea>textarea:hover+*+*[data-v-17f78756],.gjisdzwh>.content>.textarea>textarea:hover+*+*+*[data-v-17f78756]{border-color:var(--primaryAlpha02);transition:border-color .1s ease}.gjisdzwh>.content>.textarea>textarea:focus+*+*[data-v-17f78756],.gjisdzwh>.content>.textarea>textarea:focus+*+*+*[data-v-17f78756]{border-color:var(--primaryAlpha05);transition:border-color 0s ease}.gjisdzwh>.content>.textarea>textarea:focus+.emoji[data-v-17f78756]{opacity:.7}.gjisdzwh>.content>.textarea>textarea.with[data-v-17f78756]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:4px 4px 0 0}.gjisdzwh>.content>.textarea>.files[data-v-17f78756]{margin:0;padding:0;background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.textarea>.files.with[data-v-17f78756]{border-bottom:1px solid var(--primaryAlpha01)!important;border-radius:0}.gjisdzwh>.content>.textarea>.poll-editor[data-v-17f78756]{background:var(--desktopPostFormTextareaBg);border:1px solid var(--primaryAlpha01);border-top:none;border-radius:0 0 4px 4px;transition:border-color .3s ease}.gjisdzwh>.content>.hashtags[data-v-17f78756]{margin:0 0 8px;overflow:hidden;white-space:nowrap;font-size:14px}.gjisdzwh>.content>.hashtags>b[data-v-17f78756]{color:var(--primary)}.gjisdzwh>.content>.hashtags>*[data-v-17f78756]{margin-right:8px;white-space:nowrap}.gjisdzwh>.content>.with-quote[data-v-17f78756]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.with-quote>button[data-v-17f78756]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.with-quote>button[data-v-17f78756]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.with-quote>button[data-v-17f78756]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.to-specified[data-v-17f78756]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.content>.to-specified>.visibleUsers[data-v-17f78756]{display:inline;top:-1px;font-size:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span[data-v-17f78756]{margin-left:14px}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-17f78756]{padding:4px 8px;color:var(--primaryAlpha04)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-17f78756]:hover{color:var(--primaryAlpha06)}.gjisdzwh>.content>.to-specified>.visibleUsers>span>button[data-v-17f78756]:active{color:var(--primaryDarken30)}.gjisdzwh>.content>.local-only[data-v-17f78756]{margin:0 0 8px;color:var(--primary)}.gjisdzwh>.mk-uploader[data-v-17f78756]{margin:8px 0 0;padding:8px;border:1px solid var(--primaryAlpha02);border-radius:4px}.gjisdzwh input[type=file][data-v-17f78756]{display:none}.gjisdzwh .submit[data-v-17f78756]{right:16px;width:110px;height:40px}.gjisdzwh .submit[data-v-17f78756],.gjisdzwh>.text-count[data-v-17f78756]{display:block;position:absolute;bottom:16px}.gjisdzwh>.text-count[data-v-17f78756]{pointer-events:none;right:138px;margin:0;line-height:40px;color:var(--primaryAlpha05)}.gjisdzwh>.text-count.over[data-v-17f78756]{color:#ec3828}.gjisdzwh>.cw[data-v-17f78756],.gjisdzwh>.drive[data-v-17f78756],.gjisdzwh>.geo[data-v-17f78756],.gjisdzwh>.kao[data-v-17f78756],.gjisdzwh>.poll[data-v-17f78756],.gjisdzwh>.upload[data-v-17f78756],.gjisdzwh>.visibility[data-v-17f78756]{display:inline-block;cursor:pointer;padding:0;margin:8px 4px 0 0;width:40px;height:40px;font-size:1em;color:var(--desktopPostFormTransparentButtonFg);background:transparent;outline:none;border:1px solid transparent;border-radius:4px}.gjisdzwh>.cw[data-v-17f78756]:hover,.gjisdzwh>.drive[data-v-17f78756]:hover,.gjisdzwh>.geo[data-v-17f78756]:hover,.gjisdzwh>.kao[data-v-17f78756]:hover,.gjisdzwh>.poll[data-v-17f78756]:hover,.gjisdzwh>.upload[data-v-17f78756]:hover,.gjisdzwh>.visibility[data-v-17f78756]:hover{background:transparent;border-color:var(--primaryAlpha03)}.gjisdzwh>.cw[data-v-17f78756]:active,.gjisdzwh>.drive[data-v-17f78756]:active,.gjisdzwh>.geo[data-v-17f78756]:active,.gjisdzwh>.kao[data-v-17f78756]:active,.gjisdzwh>.poll[data-v-17f78756]:active,.gjisdzwh>.upload[data-v-17f78756]:active,.gjisdzwh>.visibility[data-v-17f78756]:active{color:var(--primaryAlpha06);background:linear-gradient(180deg,var(--desktopPostFormTransparentButtonActiveGradientStart) 0,var(--desktopPostFormTransparentButtonActiveGradientEnd));border-color:var(--primaryAlpha05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}.gjisdzwh>.cw[data-v-17f78756]:focus:after,.gjisdzwh>.drive[data-v-17f78756]:focus:after,.gjisdzwh>.geo[data-v-17f78756]:focus:after,.gjisdzwh>.kao[data-v-17f78756]:focus:after,.gjisdzwh>.poll[data-v-17f78756]:focus:after,.gjisdzwh>.upload[data-v-17f78756]:focus:after,.gjisdzwh>.visibility[data-v-17f78756]:focus:after{content:\\\"\\\";pointer-events:none;position:absolute;top:-5px;right:-5px;bottom:-5px;left:-5px;border:2px solid var(--primaryAlpha03);border-radius:8px}.gjisdzwh>.dropzone[data-v-17f78756]{position:absolute;left:0;top:0;width:100%;height:100%;border:2px dashed var(--primaryAlpha05);pointer-events:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"36b28baa\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01a022f2\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"gjisdzwh\",\n      on: {\n        dragover: function($event) {\n          $event.stopPropagation()\n          return _vm.onDragover($event)\n        },\n        dragenter: _vm.onDragenter,\n        dragleave: _vm.onDragleave,\n        drop: function($event) {\n          $event.stopPropagation()\n          return _vm.onDrop($event)\n        }\n      }\n    },\n    [\n      _c(\"div\", { staticClass: \"content\" }, [\n        _vm.recentHashtags.length > 0 &&\n        _vm.$store.state.settings.suggestRecentHashtags\n          ? _c(\n              \"div\",\n              { staticClass: \"hashtags\" },\n              [\n                _c(\"b\", [\n                  _vm._v(_vm._s(_vm.$t(\"@.post-form.recent-tags\")) + \":\")\n                ]),\n                _vm._l(_vm.recentHashtags.slice(0, 5), function(tag) {\n                  return _c(\n                    \"a\",\n                    {\n                      attrs: { title: _vm.$t(\"@.post-form.click-to-tagging\") },\n                      on: {\n                        click: function($event) {\n                          return _vm.addTag(tag)\n                        }\n                      }\n                    },\n                    [_vm._v(\"#\" + _vm._s(tag))]\n                  )\n                })\n              ],\n              2\n            )\n          : _vm._e(),\n        _vm.quoteId\n          ? _c(\n              \"div\",\n              { staticClass: \"with-quote\" },\n              [\n                _c(\"fa\", { attrs: { icon: \"quote-left\" } }),\n                _vm._v(\" \" + _vm._s(_vm.$t(\"@.post-form.quote-attached\"))),\n                _c(\n                  \"button\",\n                  {\n                    on: {\n                      click: function($event) {\n                        _vm.quoteId = null\n                      }\n                    }\n                  },\n                  [_c(\"fa\", { attrs: { icon: \"times\" } })],\n                  1\n                )\n              ],\n              1\n            )\n          : _vm._e(),\n        _vm.visibility === \"specified\"\n          ? _c(\n              \"div\",\n              { staticClass: \"to-specified\" },\n              [\n                _c(\"fa\", { attrs: { icon: \"envelope\" } }),\n                _vm._v(\n                  \" \" +\n                    _vm._s(_vm.$t(\"@.post-form.specified-recipient\")) +\n                    \"\\n\\t\\t\\t\"\n                ),\n                _c(\n                  \"div\",\n                  { staticClass: \"visibleUsers\" },\n                  [\n                    _vm._l(_vm.visibleUsers, function(u) {\n                      return _c(\n                        \"span\",\n                        [\n                          _c(\"mk-user-name\", { attrs: { user: u } }),\n                          _c(\n                            \"button\",\n                            {\n                              on: {\n                                click: function($event) {\n                                  return _vm.removeVisibleUser(u)\n                                }\n                              }\n                            },\n                            [_c(\"fa\", { attrs: { icon: \"times\" } })],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    }),\n                    _c(\"button\", { on: { click: _vm.addVisibleUser } }, [\n                      _vm._v(_vm._s(_vm.$t(\"@.post-form.add-visible-user\")))\n                    ])\n                  ],\n                  2\n                )\n              ],\n              1\n            )\n          : _vm._e(),\n        _vm.localOnly === true\n          ? _c(\n              \"div\",\n              { staticClass: \"local-only\" },\n              [\n                _c(\"fa\", { attrs: { icon: \"heart\" } }),\n                _vm._v(\" \" + _vm._s(_vm.$t(\"@.post-form.local-only-message\")))\n              ],\n              1\n            )\n          : _vm._e(),\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.useCw,\n              expression: \"useCw\"\n            },\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.cw,\n              expression: \"cw\"\n            },\n            {\n              name: \"autocomplete\",\n              rawName: \"v-autocomplete\",\n              value: { model: \"cw\" },\n              expression: \"{ model: 'cw' }\"\n            }\n          ],\n          ref: \"cw\",\n          attrs: { placeholder: _vm.$t(\"@.post-form.cw-placeholder\") },\n          domProps: { value: _vm.cw },\n          on: {\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.cw = $event.target.value\n            }\n          }\n        }),\n        _c(\n          \"div\",\n          { staticClass: \"textarea\" },\n          [\n            _c(\"textarea\", {\n              directives: [\n                {\n                  name: \"model\",\n                  rawName: \"v-model\",\n                  value: _vm.text,\n                  expression: \"text\"\n                },\n                {\n                  name: \"autocomplete\",\n                  rawName: \"v-autocomplete\",\n                  value: { model: \"text\" },\n                  expression: \"{ model: 'text' }\"\n                }\n              ],\n              ref: \"text\",\n              class: { with: _vm.files.length != 0 || _vm.poll },\n              attrs: { disabled: _vm.posting, placeholder: _vm.placeholder },\n              domProps: { value: _vm.text },\n              on: {\n                keydown: _vm.onKeydown,\n                paste: _vm.onPaste,\n                input: function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.text = $event.target.value\n                }\n              }\n            }),\n            _c(\n              \"button\",\n              { ref: \"emoji\", staticClass: \"emoji\", on: { click: _vm.emoji } },\n              [_c(\"fa\", { attrs: { icon: [\"far\", \"laugh\"] } })],\n              1\n            ),\n            _c(\"x-post-form-attaches\", {\n              staticClass: \"files\",\n              class: { with: _vm.poll },\n              attrs: { files: _vm.files }\n            }),\n            _vm.poll\n              ? _c(\"x-poll-editor\", {\n                  ref: \"poll\",\n                  staticClass: \"poll-editor\",\n                  on: {\n                    destroyed: function($event) {\n                      _vm.poll = false\n                    },\n                    updated: function($event) {\n                      return _vm.onPollUpdate()\n                    }\n                  }\n                })\n              : _vm._e()\n          ],\n          1\n        )\n      ]),\n      _c(\"mk-uploader\", {\n        ref: \"uploader\",\n        on: { uploaded: _vm.attachMedia, change: _vm.onChangeUploadings }\n      }),\n      _c(\n        \"button\",\n        {\n          staticClass: \"upload\",\n          attrs: { title: _vm.$t(\"@.post-form.attach-media-from-local\") },\n          on: { click: _vm.chooseFile }\n        },\n        [_c(\"fa\", { attrs: { icon: \"upload\" } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"drive\",\n          attrs: { title: _vm.$t(\"@.post-form.attach-media-from-drive\") },\n          on: { click: _vm.chooseFileFromDrive }\n        },\n        [_c(\"fa\", { attrs: { icon: \"cloud\" } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"kao\",\n          attrs: { title: _vm.$t(\"@.post-form.insert-a-kao\") },\n          on: { click: _vm.kao }\n        },\n        [_c(\"fa\", { attrs: { icon: [\"far\", \"smile\"] } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"poll\",\n          attrs: { title: _vm.$t(\"@.post-form.create-poll\") },\n          on: {\n            click: function($event) {\n              _vm.poll = !_vm.poll\n            }\n          }\n        },\n        [_c(\"fa\", { attrs: { icon: \"chart-pie\" } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"cw\",\n          attrs: { title: _vm.$t(\"@.post-form.hide-contents\") },\n          on: {\n            click: function($event) {\n              _vm.useCw = !_vm.useCw\n            }\n          }\n        },\n        [_c(\"fa\", { attrs: { icon: [\"far\", \"eye-slash\"] } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"geo\",\n          attrs: { title: _vm.$t(\"@.post-form.attach-location-information\") },\n          on: {\n            click: function($event) {\n              _vm.geo ? _vm.removeGeo() : _vm.setGeo()\n            }\n          }\n        },\n        [_c(\"fa\", { attrs: { icon: \"map-marker-alt\" } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          ref: \"visibilityButton\",\n          staticClass: \"visibility\",\n          attrs: { title: _vm.$t(\"@.post-form.visibility\") },\n          on: { click: _vm.setVisibility }\n        },\n        [\n          _vm.visibility === \"public\"\n            ? _c(\"span\", [_c(\"fa\", { attrs: { icon: \"globe\" } })], 1)\n            : _vm._e(),\n          _vm.visibility === \"home\"\n            ? _c(\"span\", [_c(\"fa\", { attrs: { icon: \"home\" } })], 1)\n            : _vm._e(),\n          _vm.visibility === \"followers\"\n            ? _c(\"span\", [_c(\"fa\", { attrs: { icon: \"unlock\" } })], 1)\n            : _vm._e(),\n          _vm.visibility === \"specified\"\n            ? _c(\"span\", [_c(\"fa\", { attrs: { icon: \"envelope\" } })], 1)\n            : _vm._e()\n        ]\n      ),\n      _c(\n        \"p\",\n        {\n          staticClass: \"text-count\",\n          class: { over: _vm.trimmedLength(_vm.text) > _vm.maxNoteTextLength }\n        },\n        [_vm._v(_vm._s(_vm.maxNoteTextLength - _vm.trimmedLength(_vm.text)))]\n      ),\n      _c(\n        \"ui-button\",\n        {\n          staticClass: \"submit\",\n          attrs: { primary: \"\", wait: _vm.posting, disabled: !_vm.canPost },\n          on: { click: _vm.post }\n        },\n        [\n          _vm._v(\n            \"\\n\\t\\t\" +\n              _vm._s(\n                _vm.posting ? _vm.$t(\"@.post-form.posting\") : _vm.submitText\n              )\n          ),\n          _vm.posting ? _c(\"mk-ellipsis\") : _vm._e()\n        ],\n        1\n      ),\n      _c(\"input\", {\n        ref: \"file\",\n        attrs: { type: \"file\", multiple: \"multiple\", tabindex: \"-1\" },\n        on: { change: _vm.onChangeFile }\n      }),\n      _vm.draghover ? _c(\"div\", { staticClass: \"dropzone\" }) : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"gqyayizv\" }, [\n    _c(\"div\", {\n      ref: \"backdrop\",\n      staticClass: \"backdrop\",\n      on: { click: _vm.close }\n    }),\n    _c(\n      \"div\",\n      {\n        ref: \"popover\",\n        staticClass: \"popover\",\n        class: { isMobile: _vm.$root.isMobile }\n      },\n      [\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"public\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"public\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"globe\" } })], 1),\n            _c(\"div\", [_c(\"span\", [_vm._v(_vm._s(_vm.$t(\"public\")))])])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"home\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"home\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"home\" } })], 1),\n            _c(\"div\", [\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"home\")))]),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"home-desc\")))])\n            ])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"followers\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"followers\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"unlock\" } })], 1),\n            _c(\"div\", [\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"followers\")))]),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"followers-desc\")))])\n            ])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"specified\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"specified\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"envelope\" } })], 1),\n            _c(\"div\", [\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"specified\")))]),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"specified-desc\")))])\n            ])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"local-public\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"local-public\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"globe\" } })], 1),\n            _c(\"div\", [\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"local-public\")))]),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$t(\"local-public-desc\")))])\n            ])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"local-home\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"local-home\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"home\" } })], 1),\n            _c(\"div\", [_c(\"span\", [_vm._v(_vm._s(_vm.$t(\"local-home\")))])])\n          ]\n        ),\n        _c(\n          \"div\",\n          {\n            class: { active: _vm.v == \"local-followers\" },\n            on: {\n              click: function($event) {\n                return _vm.choose(\"local-followers\")\n              }\n            }\n          },\n          [\n            _c(\"div\", [_c(\"fa\", { attrs: { icon: \"unlock\" } })], 1),\n            _c(\"div\", [_c(\"span\", [_vm._v(_vm._s(_vm.$t(\"local-followers\")))])])\n          ]\n        )\n      ]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport anime from 'animejs';\nexport default Vue.extend({\n    i18n: i18n('common/views/components/visibility-chooser.vue'),\n    props: {\n        source: {\n            required: true\n        },\n        currentVisibility: {\n            type: String,\n            required: false\n        }\n    },\n    data() {\n        return {\n            v: this.$store.state.settings.rememberNoteVisibility ? (this.$store.state.device.visibility || this.$store.state.settings.defaultNoteVisibility) : (this.currentVisibility || this.$store.state.settings.defaultNoteVisibility)\n        };\n    },\n    mounted() {\n        this.$nextTick(() => {\n            const popover = this.$refs.popover;\n            const rect = this.source.getBoundingClientRect();\n            const width = popover.offsetWidth;\n            const height = popover.offsetHeight;\n            let left;\n            let top;\n            if (this.$root.isMobile) {\n                const x = rect.left + window.pageXOffset + (this.source.offsetWidth / 2);\n                const y = rect.top + window.pageYOffset + (this.source.offsetHeight / 2);\n                left = (x - (width / 2));\n                top = (y - (height / 2));\n            }\n            else {\n                const x = rect.left + window.pageXOffset + (this.source.offsetWidth / 2);\n                const y = rect.top + window.pageYOffset + this.source.offsetHeight;\n                left = (x - (width / 2));\n                top = y;\n            }\n            if (left + width > window.innerWidth) {\n                left = window.innerWidth - width;\n            }\n            popover.style.left = left + 'px';\n            popover.style.top = top + 'px';\n            anime({\n                targets: this.$refs.backdrop,\n                opacity: 1,\n                duration: 100,\n                easing: 'linear'\n            });\n            anime({\n                targets: this.$refs.popover,\n                opacity: 1,\n                scale: [0.5, 1],\n                duration: 500\n            });\n        });\n    },\n    methods: {\n        choose(visibility) {\n            if (this.$store.state.settings.rememberNoteVisibility) {\n                this.$store.commit('device/setVisibility', visibility);\n            }\n            this.$emit('chosen', visibility);\n            this.destroyDom();\n        },\n        close() {\n            this.$refs.backdrop.style.pointerEvents = 'none';\n            anime({\n                targets: this.$refs.backdrop,\n                opacity: 0,\n                duration: 200,\n                easing: 'linear'\n            });\n            this.$refs.popover.style.pointerEvents = 'none';\n            anime({\n                targets: this.$refs.popover,\n                opacity: 0,\n                scale: 0.5,\n                duration: 200,\n                easing: 'easeInBack',\n                complete: () => this.destroyDom()\n            });\n        }\n    }\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./visibility-chooser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./visibility-chooser.vue?vue&type=template&id=38d69d7d&scoped=true&\"\nimport script from \"./visibility-chooser.vue?vue&type=script&lang=ts&\"\nexport * from \"./visibility-chooser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./visibility-chooser.vue?vue&type=style&index=0&id=38d69d7d&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38d69d7d\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/misskey-v11-front/misskey-v11-front/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('38d69d7d')) {\n      api.createRecord('38d69d7d', component.options)\n    } else {\n      api.reload('38d69d7d', component.options)\n    }\n    module.hot.accept(\"./visibility-chooser.vue?vue&type=template&id=38d69d7d&scoped=true&\", function () {\n      api.rerender('38d69d7d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/client/app/common/views/components/visibility-chooser.vue\"\nexport default component.exports","const faces = [\n    '(=^„Éª„Éª^=)',\n    'v(\\'œâ\\')v',\n    'üê°( \\'-\\' üê° )ÔæåÔΩ∏ÔæûÔæäÔæüÔæùÔæÅ!!!!',\n    '‚úåÔ∏è(¬¥ÔΩ•_ÔΩ•`)‚úåÔ∏è',\n    '(ÔΩ°>Ôπè<ÔΩ°)',\n    '(Œî„Éªx„ÉªŒî)',\n    '(ÔΩ∫ÔΩÄ„ÉªÔæç„Éª¬¥ÔΩπ)'\n];\nexport default () => faces[Math.floor(Math.random() * faces.length)];\n","// test is located in test/extract-mentions\nimport { preorderF } from '../prelude/tree';\nexport default function (mfmForest) {\n    // TODO: ÈáçË§á„ÇíÂâäÈô§\n    const mentionNodes = preorderF(mfmForest).filter(x => x.type === 'mention');\n    return mentionNodes.map(x => x.props);\n}\n","import insertTextAtCursor from 'insert-text-at-cursor';\nimport { length } from 'stringz';\nimport { toASCII } from 'punycode';\nimport MkVisibilityChooser from '../views/components/visibility-chooser.vue';\nimport getFace from './get-face';\nimport { parse } from '../../../../mfm/parse';\nimport { host, url } from '../../config';\nimport i18n from '../../i18n';\nimport { erase, unique } from '../../../../prelude/array';\nimport extractMentions from '../../../../misc/extract-mentions';\nimport { formatTimeString } from '../../../../misc/format-time-string';\nexport default (opts) => ({\n    i18n: i18n(),\n    components: {\n        XPostFormAttaches: () => import('../views/components/post-form-attaches.vue').then(m => m.default),\n        XPollEditor: () => import('../views/components/poll-editor.vue').then(m => m.default)\n    },\n    props: {\n        reply: {\n            type: Object,\n            required: false\n        },\n        renote: {\n            type: Object,\n            required: false\n        },\n        mention: {\n            type: Object,\n            required: false\n        },\n        initialText: {\n            type: String,\n            required: false\n        },\n        initialNote: {\n            type: Object,\n            required: false\n        },\n        instant: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            posting: false,\n            text: '',\n            files: [],\n            uploadings: [],\n            poll: false,\n            pollChoices: [],\n            pollMultiple: false,\n            pollExpiration: [],\n            useCw: false,\n            cw: null,\n            geo: null,\n            visibility: 'public',\n            visibleUsers: [],\n            localOnly: false,\n            autocomplete: null,\n            draghover: false,\n            quoteId: null,\n            recentHashtags: JSON.parse(localStorage.getItem('hashtags') || '[]'),\n            maxNoteTextLength: 1000\n        };\n    },\n    computed: {\n        draftId() {\n            return this.renote\n                ? `renote:${this.renote.id}`\n                : this.reply\n                    ? `reply:${this.reply.id}`\n                    : 'note';\n        },\n        placeholder() {\n            const xs = [\n                this.$t('@.note-placeholders.a'),\n                this.$t('@.note-placeholders.b'),\n                this.$t('@.note-placeholders.c'),\n                this.$t('@.note-placeholders.d'),\n                this.$t('@.note-placeholders.e'),\n                this.$t('@.note-placeholders.f')\n            ];\n            const x = xs[Math.floor(Math.random() * xs.length)];\n            return this.renote\n                ? opts.mobile ? this.$t('@.post-form.option-quote-placeholder') : this.$t('@.post-form.quote-placeholder')\n                : this.reply\n                    ? this.$t('@.post-form.reply-placeholder')\n                    : x;\n        },\n        submitText() {\n            return this.renote\n                ? this.$t('@.post-form.renote')\n                : this.reply\n                    ? this.$t('@.post-form.reply')\n                    : this.$t('@.post-form.submit');\n        },\n        canPost() {\n            return !this.posting &&\n                (1 <= this.text.length || 1 <= this.files.length || this.poll || this.renote) &&\n                (length(this.text.trim()) <= this.maxNoteTextLength) &&\n                (!this.poll || this.pollChoices.length >= 2);\n        }\n    },\n    created() {\n        this.$root.getMeta().then(meta => {\n            this.maxNoteTextLength = meta.maxNoteTextLength;\n        });\n    },\n    mounted() {\n        if (this.initialText) {\n            this.text = this.initialText;\n        }\n        if (this.mention) {\n            this.text = this.mention.host ? `@${this.mention.username}@${toASCII(this.mention.host)}` : `@${this.mention.username}`;\n            this.text += ' ';\n        }\n        if (this.reply && this.reply.user.host != null) {\n            this.text = `@${this.reply.user.username}@${toASCII(this.reply.user.host)} `;\n        }\n        if (this.reply && this.reply.text != null) {\n            const ast = parse(this.reply.text);\n            for (const x of extractMentions(ast)) {\n                const mention = x.host ? `@${x.username}@${toASCII(x.host)}` : `@${x.username}`;\n                // Ëá™ÂàÜ„ÅØÈô§Â§ñ\n                if (this.$store.state.i.username == x.username && x.host == null)\n                    continue;\n                if (this.$store.state.i.username == x.username && x.host == host)\n                    continue;\n                // ÈáçË§á„ÅØÈô§Â§ñ\n                if (this.text.indexOf(`${mention} `) != -1)\n                    continue;\n                this.text += `${mention} `;\n            }\n        }\n        // „Éá„Éï„Ç©„É´„ÉàÂÖ¨ÈñãÁØÑÂõ≤\n        this.applyVisibility(this.$store.state.settings.rememberNoteVisibility ? (this.$store.state.device.visibility || this.$store.state.settings.defaultNoteVisibility) : this.$store.state.settings.defaultNoteVisibility);\n        if (this.reply && this.reply.localOnly) {\n            this.localOnly = true;\n        }\n        // ÂÖ¨Èñã‰ª•Â§ñ„Å∏„ÅÆ„É™„Éó„É©„Ç§ÊôÇ„ÅØÂÖÉ„ÅÆÂÖ¨ÈñãÁØÑÂõ≤„ÇíÂºï„ÅçÁ∂ô„Åê\n        if (this.reply && ['home', 'followers', 'specified'].includes(this.reply.visibility)) {\n            this.visibility = this.reply.visibility;\n            if (this.reply.visibility === 'specified') {\n                this.$root.api('users/show', {\n                    userIds: this.reply.visibleUserIds.filter(uid => uid !== this.$store.state.i.id && uid !== this.reply.userId)\n                }).then(users => {\n                    this.visibleUsers.push(...users);\n                });\n                if (this.reply.userId !== this.$store.state.i.id) {\n                    this.$root.api('users/show', { userId: this.reply.userId }).then(user => {\n                        this.visibleUsers.push(user);\n                    });\n                }\n            }\n        }\n        // keep cw when reply\n        if (this.$store.state.settings.keepCw && this.reply && this.reply.cw) {\n            this.useCw = true;\n            this.cw = this.reply.cw;\n        }\n        this.focus();\n        this.$nextTick(() => {\n            this.focus();\n        });\n        this.$nextTick(() => {\n            // Êõ∏„Åç„Åã„Åë„ÅÆÊäïÁ®ø„ÇíÂæ©ÂÖÉ\n            if (!this.instant && !this.mention) {\n                const draft = JSON.parse(localStorage.getItem('drafts') || '{}')[this.draftId];\n                if (draft) {\n                    this.text = draft.data.text;\n                    this.files = (draft.data.files || []).filter(e => e);\n                    if (draft.data.poll) {\n                        this.poll = true;\n                        this.$nextTick(() => {\n                            this.$refs.poll.set(draft.data.poll);\n                        });\n                    }\n                    this.$emit('change-attached-files', this.files);\n                }\n            }\n            // ÂâäÈô§„Åó„Å¶Á∑®ÈõÜ\n            if (this.initialNote) {\n                const init = this.initialNote;\n                this.text = init.text ? init.text : '';\n                this.files = init.files;\n                this.cw = init.cw;\n                this.useCw = init.cw != null;\n                if (init.poll) {\n                    this.poll = true;\n                    this.$nextTick(() => {\n                        this.$refs.poll.set({\n                            choices: init.poll.choices.map(c => c.text),\n                            multiple: init.poll.multiple\n                        });\n                    });\n                }\n                // hack ‰ΩçÁΩÆÊÉÖÂ†±ÊäïÁ®ø„ÅåÂãï„Åè„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÇâÈÅ©Áî®„Åô„Çã\n                this.geo = null;\n                this.visibility = init.visibility;\n                this.localOnly = init.localOnly;\n                this.quoteId = init.renote ? init.renote.id : null;\n            }\n            this.$nextTick(() => this.watch());\n        });\n    },\n    methods: {\n        watch() {\n            this.$watch('text', () => this.saveDraft());\n            this.$watch('poll', () => this.saveDraft());\n            this.$watch('files', () => this.saveDraft());\n        },\n        trimmedLength(text) {\n            return length(text.trim());\n        },\n        addTag(tag) {\n            insertTextAtCursor(this.$refs.text, ` #${tag} `);\n        },\n        focus() {\n            this.$refs.text.focus();\n        },\n        chooseFile() {\n            this.$refs.file.click();\n        },\n        chooseFileFromDrive() {\n            this.$chooseDriveFile({\n                multiple: true\n            }).then(files => {\n                for (const x of files)\n                    this.attachMedia(x);\n            });\n        },\n        attachMedia(driveFile) {\n            this.files.push(driveFile);\n            this.$emit('change-attached-files', this.files);\n        },\n        detachMedia(id) {\n            this.files = this.files.filter(x => x.id != id);\n            this.$emit('change-attached-files', this.files);\n        },\n        onChangeFile() {\n            for (const x of Array.from(this.$refs.file.files))\n                this.upload(x);\n        },\n        upload(file, name) {\n            this.$refs.uploader.upload(file, this.$store.state.settings.uploadFolder, name);\n        },\n        onChangeUploadings(uploads) {\n            this.$emit('change-uploadings', uploads);\n        },\n        onPollUpdate() {\n            const got = this.$refs.poll.get();\n            this.pollChoices = got.choices;\n            this.pollMultiple = got.multiple;\n            this.pollExpiration = [got.expiration, got.expiresAt || got.expiredAfter];\n            this.saveDraft();\n        },\n        setGeo() {\n            if (navigator.geolocation == null) {\n                this.$root.dialog({\n                    type: 'warning',\n                    text: this.$t('@.post-form.geolocation-alert')\n                });\n                return;\n            }\n            navigator.geolocation.getCurrentPosition(pos => {\n                this.geo = pos.coords;\n                this.$emit('geo-attached', this.geo);\n            }, err => {\n                this.$root.dialog({\n                    type: 'error',\n                    title: this.$t('@.post-form.error'),\n                    text: err.message\n                });\n            }, {\n                enableHighAccuracy: true\n            });\n        },\n        removeGeo() {\n            this.geo = null;\n            this.$emit('geo-dettached');\n        },\n        setVisibility() {\n            const w = this.$root.new(MkVisibilityChooser, {\n                source: this.$refs.visibilityButton,\n                currentVisibility: this.localOnly ? `local-${this.visibility}` : this.visibility\n            });\n            w.$once('chosen', v => {\n                this.applyVisibility(v);\n            });\n            this.$once('hook:beforeDestroy', () => {\n                w.close();\n            });\n        },\n        applyVisibility(v) {\n            const m = v.match(/^local-(.+)/);\n            if (m) {\n                this.localOnly = true;\n                this.visibility = m[1];\n            }\n            else {\n                this.localOnly = false;\n                this.visibility = v;\n            }\n        },\n        addVisibleUser() {\n            this.$root.dialog({\n                title: this.$t('@.post-form.enter-username'),\n                user: true\n            }).then(({ canceled, result: user }) => {\n                if (canceled)\n                    return;\n                this.visibleUsers.push(user);\n            });\n        },\n        removeVisibleUser(user) {\n            this.visibleUsers = erase(user, this.visibleUsers);\n        },\n        clear() {\n            this.text = '';\n            this.files = [];\n            this.poll = false;\n            this.quoteId = null;\n            this.$emit('change-attached-files', this.files);\n        },\n        onKeydown(e) {\n            if ((e.which == 10 || e.which == 13) && (e.ctrlKey || e.metaKey) && this.canPost)\n                this.post();\n        },\n        async onPaste(e) {\n            for (const { item, i } of Array.from(e.clipboardData.items).map((item, i) => ({ item, i }))) {\n                if (item.kind == 'file') {\n                    const file = item.getAsFile();\n                    const lio = file.name.lastIndexOf('.');\n                    const ext = lio >= 0 ? file.name.slice(lio) : '';\n                    const formatted = `${formatTimeString(new Date(file.lastModified), this.$store.state.settings.pastedFileName).replace(/{{number}}/g, `${i + 1}`)}${ext}`;\n                    const name = this.$store.state.settings.pasteDialog\n                        ? await this.$root.dialog({\n                            title: this.$t('@.post-form.enter-file-name'),\n                            input: {\n                                default: formatted\n                            },\n                            allowEmpty: false\n                        }).then(({ canceled, result }) => canceled ? false : result)\n                        : formatted;\n                    if (name)\n                        this.upload(file, name);\n                }\n            }\n            const paste = e.clipboardData.getData('text');\n            if (!this.renote && !this.quoteId && paste.startsWith(url + '/notes/')) {\n                e.preventDefault();\n                this.$root.dialog({\n                    type: 'info',\n                    text: this.$t('@.post-form.quote-question'),\n                    showCancelButton: true\n                }).then(({ canceled }) => {\n                    if (canceled) {\n                        insertTextAtCursor(this.$refs.text, paste);\n                        return;\n                    }\n                    this.quoteId = paste.substr(url.length).match(/^\\/notes\\/(.+?)\\/?$/)[1];\n                });\n            }\n        },\n        onDragover(e) {\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            if (isFile || isDriveFile) {\n                e.preventDefault();\n                this.draghover = true;\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n        },\n        onDragenter(e) {\n            this.draghover = true;\n        },\n        onDragleave(e) {\n            this.draghover = false;\n        },\n        onDrop(e) {\n            this.draghover = false;\n            // „Éï„Ç°„Ç§„É´„Å†„Å£„Åü„Çâ\n            if (e.dataTransfer.files.length > 0) {\n                e.preventDefault();\n                for (const x of Array.from(e.dataTransfer.files))\n                    this.upload(x);\n                return;\n            }\n            //#region „Éâ„É©„Ç§„Éñ„ÅÆ„Éï„Ç°„Ç§„É´\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                const file = JSON.parse(driveFile);\n                this.files.push(file);\n                this.$emit('change-attached-files', this.files);\n                e.preventDefault();\n            }\n            //#endregion\n        },\n        async emoji() {\n            const Picker = await import('../../desktop/views/components/emoji-picker-dialog.vue').then(m => m.default);\n            const button = this.$refs.emoji;\n            const rect = button.getBoundingClientRect();\n            const vm = this.$root.new(Picker, {\n                x: button.offsetWidth + rect.left + window.pageXOffset,\n                y: rect.top + window.pageYOffset\n            });\n            vm.$once('chosen', emoji => {\n                insertTextAtCursor(this.$refs.text, emoji);\n            });\n            this.$once('hook:beforeDestroy', () => {\n                vm.close();\n            });\n        },\n        saveDraft() {\n            if (this.instant)\n                return;\n            const data = JSON.parse(localStorage.getItem('drafts') || '{}');\n            data[this.draftId] = {\n                updatedAt: new Date(),\n                data: {\n                    text: this.text,\n                    files: this.files,\n                    poll: this.poll && this.$refs.poll ? this.$refs.poll.get() : undefined\n                }\n            };\n            localStorage.setItem('drafts', JSON.stringify(data));\n        },\n        deleteDraft() {\n            const data = JSON.parse(localStorage.getItem('drafts') || '{}');\n            delete data[this.draftId];\n            localStorage.setItem('drafts', JSON.stringify(data));\n        },\n        kao() {\n            this.text += getFace();\n        },\n        post() {\n            this.posting = true;\n            const viaMobile = opts.mobile && !this.$store.state.settings.disableViaMobile;\n            this.$root.api('notes/create', {\n                text: this.text == '' ? undefined : this.text,\n                fileIds: this.files.length > 0 ? this.files.map(f => f.id) : undefined,\n                replyId: this.reply ? this.reply.id : undefined,\n                renoteId: this.renote ? this.renote.id : this.quoteId ? this.quoteId : undefined,\n                poll: this.poll ? this.$refs.poll.get() : undefined,\n                cw: this.useCw ? this.cw || '' : undefined,\n                visibility: this.visibility,\n                visibleUserIds: this.visibility == 'specified' ? this.visibleUsers.map(u => u.id) : undefined,\n                localOnly: this.localOnly,\n                geo: this.geo ? {\n                    coordinates: [this.geo.longitude, this.geo.latitude],\n                    altitude: this.geo.altitude,\n                    accuracy: this.geo.accuracy,\n                    altitudeAccuracy: this.geo.altitudeAccuracy,\n                    heading: isNaN(this.geo.heading) ? null : this.geo.heading,\n                    speed: this.geo.speed,\n                } : null,\n                viaMobile: viaMobile\n            }).then(data => {\n                this.clear();\n                this.deleteDraft();\n                this.$emit('posted');\n                if (opts.onSuccess)\n                    opts.onSuccess(this);\n            }).catch(err => {\n                if (opts.onSuccess)\n                    opts.onFailure(this);\n            }).then(() => {\n                this.posting = false;\n            });\n            if (this.text && this.text != '') {\n                const hashtags = parse(this.text).filter(x => x.node.type === 'hashtag').map(x => x.node.props.hashtag);\n                const history = JSON.parse(localStorage.getItem('hashtags') || '[]');\n                localStorage.setItem('hashtags', JSON.stringify(unique(hashtags.concat(history))));\n            }\n        },\n    }\n});\n","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport form from '../../../common/scripts/post-form';\nexport default Vue.extend({\n    i18n: i18n('desktop/views/components/post-form.vue'),\n    mixins: [\n        form({\n            onSuccess: self => {\n                self.$notify(self.renote\n                    ? self.$t('reposted')\n                    : self.reply\n                        ? self.$t('replied')\n                        : self.$t('posted'));\n            },\n            onFailure: self => {\n                self.$notify(self.renote\n                    ? self.$t('renote-failed')\n                    : self.reply\n                        ? self.$t('reply-failed')\n                        : self.$t('note-failed'));\n            }\n        }),\n    ],\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./post-form.vue?vue&type=template&id=17f78756&scoped=true&\"\nimport script from \"./post-form.vue?vue&type=script&lang=ts&\"\nexport * from \"./post-form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17f78756\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/misskey-v11-front/misskey-v11-front/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('17f78756')) {\n      api.createRecord('17f78756', component.options)\n    } else {\n      api.reload('17f78756', component.options)\n    }\n    module.hot.accept(\"./post-form.vue?vue&type=template&id=17f78756&scoped=true&\", function () {\n      api.rerender('17f78756', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/client/app/desktop/views/components/post-form.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post-form.vue?vue&type=style&index=0&id=17f78756&lang=stylus&scoped=true&\""],"sourceRoot":""}